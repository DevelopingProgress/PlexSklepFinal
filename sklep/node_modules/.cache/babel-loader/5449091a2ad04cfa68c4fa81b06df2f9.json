{"ast":null,"code":"import _toConsumableArray from\"C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useEffect}from\"react\";import{addToCart,removeFromCart}from\"../actions/cartActions\";import{useDispatch,useSelector}from\"react-redux\";import MessageBox from\"../components/MessageBox\";import{Link}from\"react-router-dom\";import{SecondaryNavbar}from\"../components/Navbar/secondaryNavbar\";import{SecondarySidebar}from\"../components/Sidebar/secondarySidebar\";import{useState}from\"react\";require('../components/Product/product.css');export default function CartPage(props){var productId=props.match.params.id;var qty=props.location.search?Number(props.location.search.split('=')[1]):1;var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;useEffect(function(){if(productId){dispatch(addToCart(productId,qty));}},[dispatch,productId,qty]);var removeFromCartHandler=function removeFromCartHandler(id){dispatch(removeFromCart(id));};var checkoutHandler=function checkoutHandler(){props.history.push(\"/login?redirect=shipping\");};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isOpen=_useState2[0],setIsOpen=_useState2[1];var toggle=function toggle(){setIsOpen(!isOpen);};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(SecondarySidebar,{isOpen:isOpen,toggle:toggle}),/*#__PURE__*/_jsx(SecondaryNavbar,{toggle:toggle}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cart\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row top\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-2\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Koszyk\"}),cartItems.length===0?/*#__PURE__*/_jsx(MessageBox,{children:\"Koszyk jest pusty!\"}):/*#__PURE__*/_jsx(\"ul\",{children:cartItems.map(function(item){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row  borderwhite\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Link,{to:\"/product/\".concat(item.product),children:[\" \",/*#__PURE__*/_jsx(\"img\",{className:\"small hoverbig\",src:process.env.PUBLIC_URL+item.image,alt:item.name})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"min-30\",children:/*#__PURE__*/_jsx(\"h2\",{children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(item.product),className:\"hoverred whitened\",children:item.name})})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"select\",{value:item.qty,onChange:function onChange(e){return dispatch(addToCart(item.product,Number(e.target.value)));},children:_toConsumableArray(Array(item.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{maxValue:10,value:x+1,children:x+1},x+1);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"whitened\",children:/*#__PURE__*/_jsxs(\"h3\",{children:[item.price.toFixed(2),\" z\\u0142\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:function onClick(){return removeFromCartHandler(item.product);},style:{color:\"#de354c\"},className:\"hoverborderred\",children:\"Usu\\u0144\"})})]})},item.product);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-1\",style:{},children:/*#__PURE__*/_jsx(\"div\",{className:\"card card-body\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"h2\",{children:[\"Razem(\",cartItems.reduce(function(a,c){return a+c.qty;},0),\" produkty) :  \",cartItems.reduce(function(a,c){return a+c.price*c.qty;},0).toFixed(2),\" z\\u0142\"]})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:checkoutHandler,className:\"primary block hoverblack whitened\",disabled:cartItems.length===0,children:\"Z\\u0142\\xF3\\u017C Zam\\xF3wienie\"}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:{marginTop:'30px',textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"block hoverblack\",children:\"Kontynuuj zakupy\"})})]})]})})})]})})})]});}","map":{"version":3,"sources":["C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/src/pages/cart.js"],"names":["React","useEffect","addToCart","removeFromCart","useDispatch","useSelector","MessageBox","Link","SecondaryNavbar","SecondarySidebar","useState","require","CartPage","props","productId","match","params","id","qty","location","search","Number","split","dispatch","cart","state","cartItems","removeFromCartHandler","checkoutHandler","history","push","isOpen","setIsOpen","toggle","length","map","item","product","process","env","PUBLIC_URL","image","name","e","target","value","Array","countInStock","keys","x","price","toFixed","color","reduce","a","c","marginTop","textDecoration"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useEffect} from \"react\";\r\nimport {addToCart, removeFromCart} from \"../actions/cartActions\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {SecondaryNavbar} from \"../components/Navbar/secondaryNavbar\";\r\nimport {SecondarySidebar} from \"../components/Sidebar/secondarySidebar\";\r\nimport {useState} from \"react\";\r\nrequire('../components/Product/product.css');\r\n\r\nexport default function CartPage(props) {\r\n    const productId = props.match.params.id;\r\n    const qty = props.location.search ? Number(props.location.search.split('=')[1]) : 1;\r\n    const dispatch = useDispatch();\r\n    const cart = useSelector(state => state.cart);\r\n    const {cartItems} = cart;\r\n\r\n    useEffect(() => {\r\n        if(productId){\r\n            dispatch(addToCart(productId, qty));\r\n        }\r\n    }, [dispatch, productId, qty]);\r\n\r\n    const removeFromCartHandler = (id) => {\r\n        dispatch(removeFromCart(id));\r\n    }\r\n    const checkoutHandler = () => {\r\n        props.history.push(`/login?redirect=shipping`);\r\n    }\r\n\r\n    const[isOpen, setIsOpen] = useState(false);\r\n\r\n    const toggle = () =>{\r\n        setIsOpen(!isOpen)\r\n    };\r\n\r\n    return(\r\n        <div className=\"grid-container\">\r\n            <SecondarySidebar isOpen={isOpen} toggle={toggle}/>\r\n            <SecondaryNavbar  toggle={toggle}/>\r\n            <div className=\"container\">\r\n            <div className=\"cart\">\r\n                <div className=\"row top\">\r\n                    <div className=\"col-2\">\r\n                        <h1>Koszyk</h1>\r\n                        {cartItems.length === 0 ? <MessageBox>Koszyk jest pusty!</MessageBox>\r\n                            :\r\n                            (\r\n                                <ul>\r\n                                    {cartItems.map((item) => (\r\n                                        <li key={item.product}>\r\n                                            <div className=\"row  borderwhite\">\r\n                                                <div>\r\n                                                    <Link to={`/product/${item.product}`}> <img\r\n                                                        className=\"small hoverbig\"\r\n                                                        src={process.env.PUBLIC_URL  + item.image}\r\n                                                        alt={item.name}\r\n                                                    /></Link>\r\n                                                </div>\r\n                                                <div className=\"min-30\">\r\n                                                    <h2><Link to={`/product/${item.product}`} className=\"hoverred whitened\" >{item.name}</Link></h2>\r\n                                                </div>\r\n                                                <div>\r\n                                                    <select\r\n                                                        value={item.qty}\r\n                                                        onChange={(e) =>\r\n                                                            dispatch(\r\n                                                                addToCart(item.product, Number(e.target.value))\r\n                                                            )\r\n                                                        }\r\n                                                    >\r\n                                                        {[...Array(item.countInStock).keys()].map((x) => (\r\n                                                            <option maxValue={10} key={x + 1} value={x + 1}>\r\n                                                                {x + 1}\r\n                                                            </option>\r\n                                                        ))}\r\n                                                    </select>\r\n                                                </div>\r\n                                                <div className=\"whitened\"><h3>{item.price.toFixed(2)} zł</h3></div>\r\n                                                <div>\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        onClick={() => removeFromCartHandler(item.product)}\r\n                                                        style={{color: \"#de354c\"}}\r\n                                                        className=\"hoverborderred\"\r\n                                                    >\r\n                                                        Usuń\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            )}\r\n                    </div>\r\n                    <div className=\"col-1\" style={{}}>\r\n                        <div className=\"card card-body\">\r\n                            <ul>\r\n                                <li>\r\n                                    <h2>\r\n                                        Razem({cartItems.reduce((a, c) => a + c.qty, 0)} produkty) :  {cartItems.reduce((a, c) => a + c.price * c.qty, 0).toFixed(2)} zł\r\n                                    </h2>\r\n                                </li>\r\n                                <li>\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={checkoutHandler}\r\n                                        className=\"primary block hoverblack whitened\"\r\n                                        disabled={cartItems.length === 0}\r\n                                    >\r\n                                        Złóż Zamówienie\r\n                                    </button>\r\n                                    <Link to=\"/\" style={{marginTop: '30px', textDecoration: 'none'}}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"block hoverblack\"\r\n                                        >\r\n                                            Kontynuuj zakupy\r\n                                        </button></Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n\r\n}"]},"metadata":{},"sourceType":"module"}