{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{FaArrowLeft}from\"react-icons/all\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useEffect}from\"react\";import{signin}from\"../actions/userActions\";import{Container,Form,FormButton,FormContent,FormH1,FormInput,FormLabel,FormWrap,Icon,Text}from\"../components/Login/LoginElements\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";export default function LoginPage(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var dispatch=useDispatch();var userSignin=useSelector(function(state){return state.userSignin;});var userInfo=userSignin.userInfo,loading=userSignin.loading,error=userSignin.error;var redirect=props.location.search?props.location.search.split('=')[1]:'/';var submitHandler=function submitHandler(e){e.preventDefault();dispatch(signin(email,password));};useEffect(function(){if(userInfo){props.history.push(redirect);}},[props.history,redirect,userInfo]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormWrap,{children:[/*#__PURE__*/_jsx(Icon,{to:\"/\",children:/*#__PURE__*/_jsx(FaArrowLeft,{})}),/*#__PURE__*/_jsx(FormContent,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,action:\"/\",children:[/*#__PURE__*/_jsx(FormH1,{children:\"Zaloguj si\\u0119\"}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Email\"}),/*#__PURE__*/_jsx(FormInput,{type:\"email\",id:\"email\",placeholder:\"Wprowad\\u017A Email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Has\\u0142o\"}),/*#__PURE__*/_jsx(FormInput,{type:\"password\",id:\"password\",placeholder:\"Wprowad\\u017A Has\\u0142o\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),loading&&/*#__PURE__*/_jsx(LoadingBox,{}),error&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(FormButton,{type:\"submit\",children:\"Zaloguj\"}),/*#__PURE__*/_jsx(Text,{children:/*#__PURE__*/_jsx(Link,{to:\"/recover\",style:{color:'white'},className:\"hoverred\",children:\"Przypomnij Has\\u0142o \"})}),/*#__PURE__*/_jsxs(Text,{children:[\"Nie posiadasz konta? \",/*#__PURE__*/_jsx(Link,{to:\"/register?redirect=\".concat(redirect),style:{color:'white'},className:\"hoverred\",children:\"Stw\\xF3rz je! \"})]})]})})]})});}","map":{"version":3,"sources":["C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/src/pages/login.js"],"names":["React","FaArrowLeft","Link","useState","useDispatch","useSelector","useEffect","signin","Container","Form","FormButton","FormContent","FormH1","FormInput","FormLabel","FormWrap","Icon","Text","LoadingBox","MessageBox","LoginPage","props","email","setEmail","password","setPassword","dispatch","userSignin","state","userInfo","loading","error","redirect","location","search","split","submitHandler","e","preventDefault","history","push","target","value","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\n\r\nimport {FaArrowLeft} from \"react-icons/all\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect} from \"react\";\r\nimport {signin} from \"../actions/userActions\";\r\nimport {\r\n    Container,\r\n    Form, FormButton,\r\n    FormContent,\r\n    FormH1,\r\n    FormInput,\r\n    FormLabel,\r\n    FormWrap,\r\n    Icon, Text\r\n} from \"../components/Login/LoginElements\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\n\r\nexport default function LoginPage(props) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const {userInfo, loading, error} = userSignin;\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        dispatch(signin(email, password));\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(userInfo){\r\n            props.history.push(redirect);\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n\r\n\r\n    return (\r\n        <Container>\r\n            <FormWrap>\r\n                <Icon to=\"/\"><FaArrowLeft/></Icon>\r\n\r\n                <FormContent>\r\n                    <Form onSubmit={submitHandler} action=\"/\">\r\n                        <FormH1>Zaloguj się</FormH1>\r\n                        <FormLabel htmlFor='for'>Email</FormLabel>\r\n                        <FormInput type='email' id=\"email\" placeholder=\"Wprowadź Email\" required onChange={e => setEmail(e.target.value)}/>\r\n                        <FormLabel htmlFor='for'>Hasło</FormLabel>\r\n                        <FormInput type='password' id=\"password\" placeholder=\"Wprowadź Hasło\" required onChange={e => setPassword(e.target.value)}/>\r\n                        {loading && <LoadingBox/>}\r\n                        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                        <FormButton type='submit'>Zaloguj</FormButton>\r\n                        <Text><Link to=\"/recover\" style={{color: 'white'}} className=\"hoverred\">Przypomnij Hasło </Link></Text>\r\n                        <Text>Nie posiadasz konta? <Link to={`/register?redirect=${redirect}`} style={{color: 'white'}} className=\"hoverred\">Stwórz je! </Link></Text>\r\n                    </Form>\r\n                </FormContent>\r\n            </FormWrap>\r\n        </Container>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}