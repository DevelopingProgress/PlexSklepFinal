{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{Container,Form,FormButton,FormContent,FormH1,FormInput,FormLabel,FormWrap,Icon,Text}from\"../components/Login/LoginElements\";import{FaArrowLeft}from\"react-icons/all\";import LoadingBox from\"../components/LoadingBox\";import MessageBox from\"../components/MessageBox\";import{Link}from\"react-router-dom\";import{register}from\"../actions/userActions\";import{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useEffect}from\"react\";export default function RegisterPage(props){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),confirmPassword=_useState8[0],setConfirmPassword=_useState8[1];var dispatch=useDispatch();var userRegister=useSelector(function(state){return state.userRegister;});var userInfo=userRegister.userInfo,loading=userRegister.loading,error=userRegister.error;var redirect=props.location.search?props.location.search.split('=')[1]:'/';var submitHandler=function submitHandler(e){e.preventDefault();if(password!==confirmPassword){alert('Hasła muszą być takie same!');}else{dispatch(register(name,email,password));}};useEffect(function(){if(userInfo){props.history.push(redirect);}},[props.history,redirect,userInfo]);return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(FormWrap,{children:[/*#__PURE__*/_jsx(Icon,{to:\"/login?redirect=\".concat(redirect),children:/*#__PURE__*/_jsx(FaArrowLeft,{})}),/*#__PURE__*/_jsx(FormContent,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(FormH1,{children:\"Utw\\xF3rz Konto\"}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Imi\\u0119 i Nazwisko\"}),/*#__PURE__*/_jsx(FormInput,{type:\"name\",id:\"name\",placeholder:\"Wprowad\\u017A Imi\\u0119 i Nazwisko\",required:true,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Email\"}),/*#__PURE__*/_jsx(FormInput,{type:\"email\",id:\"email\",placeholder:\"Wprowad\\u017A Email\",required:true,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Has\\u0142o\"}),/*#__PURE__*/_jsx(FormInput,{type:\"password\",id:\"password\",placeholder:\"Wprowad\\u017A Has\\u0142o\",required:true,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(FormLabel,{htmlFor:\"for\",children:\"Powt\\xF3rz Has\\u0142o\"}),/*#__PURE__*/_jsx(FormInput,{type:\"password\",id:\"confirmpassword\",placeholder:\"Powt\\xF3rz Has\\u0142o\",required:true,onChange:function onChange(e){return setConfirmPassword(e.target.value);}}),loading&&/*#__PURE__*/_jsx(LoadingBox,{}),error&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(FormButton,{type:\"submit\",children:\"Zarejestruj\"}),/*#__PURE__*/_jsxs(Text,{children:[\"Posiadasz konto? \",/*#__PURE__*/_jsx(Link,{to:\"/login?redirect=\".concat(redirect),style:{color:'white'},className:\"hoverred\",children:\"Zaloguj si\\u0119 \"})]})]})})]})});}","map":{"version":3,"sources":["C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/src/pages/register.js"],"names":["React","Container","Form","FormButton","FormContent","FormH1","FormInput","FormLabel","FormWrap","Icon","Text","FaArrowLeft","LoadingBox","MessageBox","Link","register","useState","useDispatch","useSelector","useEffect","RegisterPage","props","name","setName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","dispatch","userRegister","state","userInfo","loading","error","redirect","location","search","split","submitHandler","e","preventDefault","alert","history","push","target","value","color"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {\r\n    Container,\r\n    Form,\r\n    FormButton,\r\n    FormContent,\r\n    FormH1,\r\n    FormInput,\r\n    FormLabel,\r\n    FormWrap,\r\n    Icon, Text\r\n} from \"../components/Login/LoginElements\";\r\nimport {FaArrowLeft} from \"react-icons/all\";\r\nimport LoadingBox from \"../components/LoadingBox\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {register} from \"../actions/userActions\";\r\nimport {useState} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {useEffect} from \"react\";\r\n\r\n\r\n\r\nexport default function RegisterPage(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n    const dispatch = useDispatch();\r\n    const userRegister = useSelector(state => state.userRegister);\r\n    const {userInfo, loading, error} = userRegister;\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        if(password !== confirmPassword){\r\n            alert('Hasła muszą być takie same!');\r\n        }else {\r\n            dispatch(register(name, email, password));\r\n        }\r\n    }\r\n\r\n    useEffect(()=>{\r\n        if(userInfo){\r\n            props.history.push(redirect);\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n\r\n\r\n    return(\r\n        <Container>\r\n            <FormWrap>\r\n                <Icon to={`/login?redirect=${redirect}`}><FaArrowLeft/></Icon>\r\n                <FormContent>\r\n                    <Form onSubmit={submitHandler}>\r\n                        <FormH1>Utwórz Konto</FormH1>\r\n                        <FormLabel htmlFor='for'>Imię i Nazwisko</FormLabel>\r\n                        <FormInput type='name' id=\"name\" placeholder=\"Wprowadź Imię i Nazwisko\" required onChange={e => setName(e.target.value)}/>\r\n                        <FormLabel htmlFor='for'>Email</FormLabel>\r\n                        <FormInput type='email' id=\"email\" placeholder=\"Wprowadź Email\" required onChange={e => setEmail(e.target.value)}/>\r\n                        <FormLabel htmlFor='for'>Hasło</FormLabel>\r\n                        <FormInput type='password' id=\"password\" placeholder=\"Wprowadź Hasło\" required onChange={e => setPassword(e.target.value)}/>\r\n                        <FormLabel htmlFor='for'>Powtórz Hasło</FormLabel>\r\n                        <FormInput type='password' id=\"confirmpassword\" placeholder=\"Powtórz Hasło\" required onChange={e => setConfirmPassword(e.target.value)}/>\r\n                        {loading && <LoadingBox/>}\r\n                        {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                        <FormButton type='submit'>Zarejestruj</FormButton>\r\n                        <Text>Posiadasz konto? <Link to={`/login?redirect=${redirect}`} style={{color: 'white'}} className=\"hoverred\">Zaloguj się </Link></Text>\r\n                    </Form>\r\n                </FormContent>\r\n            </FormWrap>\r\n        </Container>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}