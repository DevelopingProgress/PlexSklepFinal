{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{listMyOrders}from'../actions/orderActions';import MessageBox from'../components/MessageBox';import{SecondaryNavbar}from\"../components/Navbar/secondaryNavbar\";import LoadingBoxWhite from\"../components/LoadingBoxWhite\";export default function HistoryPage(props){var myOrdersList=useSelector(function(state){return state.myOrdersList;});var loading=myOrdersList.loading,error=myOrdersList.error,orders=myOrdersList.orders;var dispatch=useDispatch();useEffect(function(){dispatch(listMyOrders());},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(SecondaryNavbar,{}),/*#__PURE__*/_jsx(\"h1\",{style:{margin:'10px'},children:\"Historia Zam\\xF3wie\\u0144\"}),/*#__PURE__*/_jsx(\"div\",{children:loading?/*#__PURE__*/_jsx(LoadingBoxWhite,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"NUMER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"KWOTA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ZAP\\u0141ACONE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DOSTARCZONE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AKCJE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(function(order){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substring(0,10)}),/*#__PURE__*/_jsxs(\"td\",{children:[order.totalPrice.toFixed(2),\" z\\u0142\"]}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt.substring(0,10):'Nieopłacone'}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?order.deliveredAt.substring(0,10):'Niedostarczone'}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){props.history.push(\"/order/\".concat(order._id));},children:\"Szczeg\\xF3\\u0142y\"})})]},order._id);})})]})})]});}","map":{"version":3,"sources":["C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/src/pages/history.js"],"names":["React","useEffect","useDispatch","useSelector","listMyOrders","MessageBox","SecondaryNavbar","LoadingBoxWhite","HistoryPage","props","myOrdersList","state","loading","error","orders","dispatch","margin","map","order","_id","createdAt","substring","totalPrice","toFixed","isPaid","paidAt","isDelivered","deliveredAt","history","push"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAAQC,YAAR,KAA2B,yBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,OAAQC,eAAR,KAA8B,sCAA9B,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CAGA,cAAe,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAIvC,GAAMC,CAAAA,YAAY,CAAGP,WAAW,CAAC,SAAAQ,KAAK,QAAIA,CAAAA,KAAK,CAACD,YAAV,EAAN,CAAhC,CAJuC,GAK/BE,CAAAA,OAL+B,CAKJF,YALI,CAK/BE,OAL+B,CAKtBC,KALsB,CAKJH,YALI,CAKtBG,KALsB,CAKfC,MALe,CAKJJ,YALI,CAKfI,MALe,CAOvC,GAAMC,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEAD,SAAS,CAAC,UAAM,CACZc,QAAQ,CAACX,YAAY,EAAb,CAAR,CAEH,CAHQ,CAGN,CAACW,QAAD,CAHM,CAAT,CAOA,mBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,KAAC,eAAD,IADJ,cAEI,WAAI,KAAK,CAAE,CAACC,MAAM,CAAE,MAAT,CAAX,uCAFJ,cAGI,qBACKJ,OAAO,cAAI,KAAC,eAAD,IAAJ,CAA0BC,KAAK,cAAI,KAAC,UAAD,EAAY,OAAO,CAAC,QAApB,UAA8BA,KAA9B,EAAJ,cACnC,eAAO,SAAS,CAAC,OAAjB,wBACI,oCACA,mCACI,6BADJ,cAEI,4BAFJ,cAGI,6BAHJ,cAII,sCAJJ,cAKI,mCALJ,cAMI,6BANJ,GADA,EADJ,cAWI,uBACCC,MAAM,CAACG,GAAP,CAAW,SAAAC,KAAK,qBACb,mCACI,oBAAKA,KAAK,CAACC,GAAX,EADJ,cAEI,oBAAKD,KAAK,CAACE,SAAN,CAAgBC,SAAhB,CAA0B,CAA1B,CAA6B,EAA7B,CAAL,EAFJ,cAGI,sBAAKH,KAAK,CAACI,UAAN,CAAiBC,OAAjB,CAAyB,CAAzB,CAAL,cAHJ,cAII,oBAAKL,KAAK,CAACM,MAAN,CAAeN,KAAK,CAACO,MAAN,CAAaJ,SAAb,CAAuB,CAAvB,CAA0B,EAA1B,CAAf,CAA+C,aAApD,EAJJ,cAKI,oBAAKH,KAAK,CAACQ,WAAN,CAAoBR,KAAK,CAACS,WAAN,CAAkBN,SAAlB,CAA4B,CAA5B,CAA+B,EAA/B,CAApB,CAAyD,gBAA9D,EALJ,cAMI,iCAAI,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,OAAhC,CAAwC,OAAO,CAAE,kBAAM,CAACZ,KAAK,CAACmB,OAAN,CAAcC,IAAd,kBAA6BX,KAAK,CAACC,GAAnC,GAA2C,CAAnG,+BAAJ,EANJ,GAASD,KAAK,CAACC,GAAf,CADa,EAAhB,CADD,EAXJ,GAFR,EAHJ,GADJ,CAoCH","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {listMyOrders} from '../actions/orderActions';\r\nimport MessageBox from '../components/MessageBox';\r\nimport {SecondaryNavbar} from \"../components/Navbar/secondaryNavbar\";\r\nimport LoadingBoxWhite from \"../components/LoadingBoxWhite\";\r\n\r\n\r\nexport default function HistoryPage(props) {\r\n\r\n\r\n\r\n    const myOrdersList = useSelector(state => state.myOrdersList);\r\n    const { loading, error, orders } = myOrdersList;\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(listMyOrders());\r\n\r\n    }, [dispatch]);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"grid-container\">\r\n            <SecondaryNavbar/>\r\n            <h1 style={{margin: '10px'}}>Historia Zamówień</h1>\r\n            <div>\r\n                {loading ? (<LoadingBoxWhite/>) : error ? (<MessageBox variant=\"danger\">{error}</MessageBox>) : (\r\n                    <table className=\"table\">\r\n                        <thead>\r\n                        <tr>\r\n                            <th>NUMER</th>\r\n                            <th>DATA</th>\r\n                            <th>KWOTA</th>\r\n                            <th>ZAPŁACONE</th>\r\n                            <th>DOSTARCZONE</th>\r\n                            <th>AKCJE</th>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {orders.map(order => (\r\n                            <tr key={order._id}>\r\n                                <td>{order._id}</td>\r\n                                <td>{order.createdAt.substring(0, 10)}</td>\r\n                                <td>{order.totalPrice.toFixed(2)} zł</td>\r\n                                <td>{order.isPaid ? order.paidAt.substring(0, 10) : 'Nieopłacone'}</td>\r\n                                <td>{order.isDelivered ? order.deliveredAt.substring(0, 10) : 'Niedostarczone'}</td>\r\n                                <td><button type=\"button\" className=\"small\" onClick={() => {props.history.push(`/order/${order._id}`);}}>Szczegóły</button>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        </tbody>\r\n                    </table>\r\n                )}\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}