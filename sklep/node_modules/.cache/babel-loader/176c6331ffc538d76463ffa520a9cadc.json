{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from'react';import{useDispatch,useSelector}from\"react-redux\";import{createProduct,deleteProduct,listProducts}from\"../actions/productActions\";import{useEffect}from\"react\";import LoadingBoxWhite from\"../components/LoadingBoxWhite\";import MessageBox from\"../components/MessageBox\";import{SecondaryNavbar}from\"../components/Navbar/secondaryNavbar\";import{CREATE_PRODUCT_RESET,PRODUCT_DELETE_RESET}from\"../constants/productConstants\";export default function ProductListPage(props){var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var dispatch=useDispatch();useEffect(function(){if(successCreate){dispatch({type:CREATE_PRODUCT_RESET});props.history.push(\"/product/\".concat(createdProduct._id,\"/edit\"));}if(successDelete){dispatch({type:PRODUCT_DELETE_RESET});}dispatch(listProducts());},[createdProduct,dispatch,props.history,successCreate,successDelete]);var deleteHandler=function deleteHandler(product){if(window.confirm(\"Jeste\\u015B pawny/a, \\u017Ce chcesz usun\\u0105\\u0107 produkt \".concat(product.name,\"?\"))){dispatch(deleteProduct(product._id));}};var createHandler=function createHandler(){dispatch(createProduct());};return/*#__PURE__*/_jsxs(\"div\",{className:\"grid-container\",children:[/*#__PURE__*/_jsx(SecondaryNavbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"h1\",{style:{margin:'10px'},children:\"Produkty\"}),/*#__PURE__*/_jsx(\"button\",{className:\"primary whitened hoverwhite\",type:\"button\",onClick:createHandler,children:\"Utw\\xF3rz Produkt\"})]}),loadingDelete&&/*#__PURE__*/_jsx(LoadingBoxWhite,{}),errorDelete&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(LoadingBoxWhite,{}),errorCreate&&/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:errorCreate}),loading?/*#__PURE__*/_jsx(LoadingBoxWhite,{}):error?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"NUMER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAZWA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CENA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"KATEGORIA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"MARKA\"}),/*#__PURE__*/_jsx(\"th\",{children:\"AKCJE\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.price}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return props.history.push(\"/product/\".concat(product._id,\"/edit\"));},children:\"Edytuj\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"small\",onClick:function onClick(){return deleteHandler(product);},children:\"Usu\\u0144\"})]})]},product._id);})})]})]});}","map":{"version":3,"sources":["C:/Users/kacpi/OneDrive/Pulpit/PlexSklepFinal/PlexSklepFinal/sklep/src/pages/productlist.js"],"names":["React","useDispatch","useSelector","createProduct","deleteProduct","listProducts","useEffect","LoadingBoxWhite","MessageBox","SecondaryNavbar","CREATE_PRODUCT_RESET","PRODUCT_DELETE_RESET","ProductListPage","props","productDelete","state","loadingDelete","loading","errorDelete","error","successDelete","success","productCreate","loadingCreate","errorCreate","successCreate","createdProduct","product","productList","products","dispatch","type","history","push","_id","deleteHandler","window","confirm","name","createHandler","margin","map","price","category","brand"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {createProduct, deleteProduct, listProducts} from \"../actions/productActions\";\r\nimport {useEffect} from \"react\";\r\nimport LoadingBoxWhite from \"../components/LoadingBoxWhite\";\r\nimport MessageBox from \"../components/MessageBox\";\r\nimport {SecondaryNavbar} from \"../components/Navbar/secondaryNavbar\";\r\nimport {CREATE_PRODUCT_RESET, PRODUCT_DELETE_RESET} from \"../constants/productConstants\";\r\n\r\nexport default function ProductListPage(props) {\r\n    const productDelete = useSelector(state => state.productDelete);\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete} = productDelete;\r\n    const productCreate = useSelector(state => state.productCreate);\r\n    const {loading: loadingCreate, error: errorCreate, success: successCreate, product: createdProduct} = productCreate;\r\n    const productList = useSelector(state => state.productList);\r\n    const {loading, error, products} = productList;\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        if(successCreate){\r\n            dispatch({type: CREATE_PRODUCT_RESET});\r\n            props.history.push(`/product/${createdProduct._id}/edit`);\r\n        }\r\n        if(successDelete){\r\n            dispatch({type: PRODUCT_DELETE_RESET});\r\n        }\r\n        dispatch(listProducts());\r\n    }, [createdProduct, dispatch, props.history, successCreate, successDelete]);\r\n\r\n\r\n\r\n    const deleteHandler = (product) => {\r\n        if(window.confirm(`Jesteś pawny/a, że chcesz usunąć produkt ${product.name}?`)){\r\n            dispatch(deleteProduct(product._id));\r\n        }\r\n    }\r\n\r\n    const createHandler = () => {\r\n        dispatch(createProduct());\r\n    }\r\n\r\n    return (\r\n      <div className=\"grid-container\">\r\n          <SecondaryNavbar/>\r\n\r\n              <div className=\"row\">\r\n                  <h1 style={{margin: '10px'}}>Produkty</h1>\r\n                  <button className=\"primary whitened hoverwhite\" type=\"button\" onClick={createHandler}>Utwórz Produkt</button>\r\n              </div>\r\n              {loadingDelete && <LoadingBoxWhite/>}\r\n              {errorDelete && <MessageBox variant=\"danger\">{errorDelete}</MessageBox>}\r\n              {loadingCreate && <LoadingBoxWhite/>}\r\n              {errorCreate && <MessageBox variant=\"danger\">{errorCreate}</MessageBox>}\r\n              {\r\n                  loading ? <LoadingBoxWhite/>:\r\n                      error ? <MessageBox variant=\"danger\">{error}</MessageBox>:\r\n                          <table className=\"table\">\r\n                              <thead>\r\n                              <tr>\r\n                                  <th>NUMER</th>\r\n                                  <th>NAZWA</th>\r\n                                  <th>CENA</th>\r\n                                  <th>KATEGORIA</th>\r\n                                  <th>MARKA</th>\r\n                                  <th>AKCJE</th>\r\n                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                              {\r\n                                  products.map((product) => (\r\n                                      <tr key={product._id}>\r\n                                          <td>{product._id}</td>\r\n                                          <td>{product.name}</td>\r\n                                          <td>{product.price}</td>\r\n                                          <td>{product.category}</td>\r\n                                          <td>{product.brand}</td>\r\n                                          <td>\r\n                                              <button type=\"button\" className=\"small\" onClick={() => props.history.push(`/product/${product._id}/edit`)}>Edytuj</button>\r\n                                              <button type=\"button\" className=\"small\" onClick={() => deleteHandler(product)}>Usuń</button>\r\n                                          </td>\r\n                                      </tr>\r\n                                  ))\r\n                              }\r\n                              </tbody>\r\n\r\n                          </table>\r\n              }\r\n      </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}